function Vigenere(){var d="";var c="";var a="";var e=[];var h=function h(){var i;e[0]="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(i=1;i<e[0].length;i=i+1){e[i]=e[0].substr(i);e[i]=e[i].concat(e[0].substring(0,i))}};var g=function g(i){i=i.match(/[A-Za-z]/g);i=i.toString();i=i.replace(/[,]/g,"");a=i.toUpperCase()};this.encrypt=function f(m,k){var i,o,j,l,n;g(k);m=m.toUpperCase();c="";o=0;for(i=0;i<m.length;i=i+1){j=e[0].indexOf(a[o]);l=e[0].indexOf(m[i]);if(l===-1){c+=m[i]}else{n=e[j];c+=n[l];o=o+1}if(o>=a.length){o=0}}return c};this.decrypt=function b(m,k){g(k);d="";m=m.toUpperCase();var o,i,j,l,n;o=0;for(i=0;i<m.length;i=i+1){j=e[0].indexOf(a[o]);l=e[j].indexOf(m[i]);if(l===-1){d+=m[i]}else{n=e[0];d+=n[l];o=o+1}if(o>=a.length){o=0}}return d};h();return this};
