var vigenere={plaintext:"",ciphertext:"",keyword:"",alphabets:[],init:function init(){var a;this.alphabets[0]="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(a=1;a<this.alphabets[0].length;a=a+1){this.alphabets[a]=this.alphabets[0].substr(a);this.alphabets[a]=this.alphabets[a].concat(this.alphabets[0].substring(0,a))}},buildKeyword:function buildKeyword(a){a=a.match(/[A-Za-z]/g);a=a.toString();a=a.replace(/[,]/g,"");this.keyword=a.toUpperCase()},encrypt:function encrypt(e,c){var a,g,b,d,f;this.buildKeyword(c);this.plaintext=e.toUpperCase();this.ciphertext="";g=0;for(a=0;a<this.plaintext.length;a=a+1){b=this.alphabets[0].indexOf(this.keyword[g]);d=this.alphabets[0].indexOf(this.plaintext[a]);if(d===-1){this.ciphertext+=this.plaintext[a]}else{f=this.alphabets[b];this.ciphertext+=f[d]}g=g+1;if(g>=this.keyword.length){g=0}}return this.ciphertext},decrypt:function decrypt(e,c){this.buildKeyword(c);this.plaintext="";this.ciphertext=e;var g,a,b,d,f;g=0;for(a=0;a<this.ciphertext.length;a=a+1){b=this.alphabets[0].indexOf(this.keyword[g]);d=this.alphabets[b].indexOf(this.ciphertext[a]);if(d===-1){this.plaintext+=this.ciphertext[a]}else{f=this.alphabets[0];this.plaintext+=f[d]}g=g+1;if(g>=this.keyword.length){g=0}}return this.plaintext}};vigenere.init();