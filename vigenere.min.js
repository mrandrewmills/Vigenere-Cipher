function vigenere(){this.plaintext="";this.ciphertext="";this.keyword="";this.alphabets=[];this.init=function d(){var e;this.alphabets[0]="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(e=1;e<this.alphabets[0].length;e=e+1){this.alphabets[e]=this.alphabets[0].substr(e);this.alphabets[e]=this.alphabets[e].concat(this.alphabets[0].substring(0,e))}};this.buildKeyword=function c(e){e=e.match(/[A-Za-z]/g);e=e.toString();e=e.replace(/[,]/g,"");this.keyword=e.toUpperCase()};this.encrypt=function b(i,g){var e,k,f,h,j;this.buildKeyword(g);this.plaintext=i.toUpperCase();this.ciphertext="";k=0;for(e=0;e<this.plaintext.length;e=e+1){f=this.alphabets[0].indexOf(this.keyword[k]);h=this.alphabets[0].indexOf(this.plaintext[e]);if(h===-1){this.ciphertext+=this.plaintext[e]}else{j=this.alphabets[f];this.ciphertext+=j[h];k=k+1}if(k>=this.keyword.length){k=0}}return this.ciphertext};this.decrypt=function a(i,g){this.buildKeyword(g);this.plaintext="";this.ciphertext=i.toUpperCase();var k,e,f,h,j;k=0;for(e=0;e<this.ciphertext.length;e=e+1){f=this.alphabets[0].indexOf(this.keyword[k]);h=this.alphabets[f].indexOf(this.ciphertext[e]);if(h===-1){this.plaintext+=this.ciphertext[e]}else{j=this.alphabets[0];this.plaintext+=j[h];k=k+1}if(k>=this.keyword.length){k=0}}return this.plaintext};this.init();return this};