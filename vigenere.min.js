var vigenere={plaintext:"",ciphertext:"",keyword:"",alphabets:[],init:function(){"use strict";var t;for(this.alphabets[0]="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=1;t<this.alphabets[0].length;t+=1)this.alphabets[t]=this.alphabets[0].substr(t),this.alphabets[t]=this.alphabets[t].concat(this.alphabets[0].substring(0,t))},buildKeyword:function(t){"use strict";t=t.match(/[A-Za-z]/g),t=t.toString(),t=t.replace(/[,]/g,""),this.keyword=t.toUpperCase()},encrypt:function(t,e){"use strict";var i,h,s,a,r;for(this.buildKeyword(e),this.plaintext=t.toUpperCase(),this.ciphertext="",h=0,i=0;i<this.plaintext.length;i+=1)s=this.alphabets[0].indexOf(this.keyword[h]),a=this.alphabets[0].indexOf(this.plaintext[i]),-1===a?this.ciphertext+=this.plaintext[i]:(r=this.alphabets[s],this.ciphertext+=r[a],h+=1),h>=this.keyword.length&&(h=0);return this.ciphertext},decrypt:function(t,e){"use strict";this.buildKeyword(e),this.plaintext="",this.ciphertext=t.toUpperCase();var i,h,s,a,r;for(i=0,h=0;h<this.ciphertext.length;h+=1)s=this.alphabets[0].indexOf(this.keyword[i]),a=this.alphabets[s].indexOf(this.ciphertext[h]),-1===a?this.plaintext+=this.ciphertext[h]:(r=this.alphabets[0],this.plaintext+=r[a],i+=1),i>=this.keyword.length&&(i=0);return this.plaintext}};vigenere.init();
